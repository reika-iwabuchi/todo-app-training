# ToDoアプリ追加実装課題

## 概要

Webアプリケーションを作れるようになるためには、様々なアプリを実際に読んでみたり、作ったり、デバッグしたりすることが大切になってきます。

そういった「経験」を積み重ねていくことで、徐々に、システムというものが「どう動いていて」、「どう作られているのか」を、肌で体感することができます。

そのための練習として、ここでは最低限の機能まで実装されている「ToDoアプリ」をベースに、
- ソースを読む
- バグを修正する
- 新機能を実装する
ことに取り組んでいただきます。

では実際に、以下の「環境構築」から実際に取り組んでいきましょう！


## 0. 環境構築

この課題に取り組むにあたり、まずはリポジトリページ右上の「fork」を押して、自身のリポジトリとして扱えるようにいたしましょう。

forkができたら、このリポジトリをローカルにクローンしてください。

その後以下のコマンドを実行して、環境構築を行いましょう。

```
# Laravel等のインストール
$ composer install

# .envファイルの作成
$ cp .env.example .env
```

.envファイルが作成できたら、ファイル内のデータベースの接続設定を自身の環境のものに合わせてください。

データベースは「todo」という名称で新たに作成いたしましょう。

データベースの作成方法を忘れてしまった場合は、そちらも「MySQL データベース 作成」などと調べつつ、取り組んでみましょう。

```
(略)

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=todo
DB_USERNAME=root
DB_PASSWORD=

(略)
```

データベースの接続設定ができたら、続けて以下のコマンドを実行します。

```
# キーの生成
$ php artisan key:generate

# マイグレーションの実行
$ php artisan migrate
```

その後、以下のコマンドで `http://localhost:8000` のアドレスにアクセスして画面が表示されれば正常に動いています。

```
$ php artisan serve
```

## 1. 「完了済みタスクの一覧」ページ実装
- 完了済みのタスクを一覧できるページ(completed)を新たに実装してください。
  - 「is_complete=0」のデータだけ表示する


## 2. 「あいまい検索」の実装
- 現在ToDo一覧の検索ボックスが、タスク名での「完全一致」の処理になっています。
- それを「部分一致(あいまい検索)」として動くようにしてください。


## 3. 「期限日」の機能改修
- 現在、タスクごとに「期限日(deadline_date)」を設定できるようになっています。
- そのデータを使い、「期限が過ぎているタスクの背景色を青色に変える」ようにしてください。
  - Viewでif文を使って、trタグの背景色を切り替えるようにしましょう


## 4. 「優先度」の設定
- todosテーブルに新しく「priority(Integer)」カラムを追加するマイグレーションファイルを作成し、実行してください
- ToDoの新規作成時や編集時に優先度を「1~5」で設定できるようにしてください(セレクトメニューでも、手入力でも大丈夫です)
- 一覧ページにて、優先度で「昇順降順」で並び替えることができるようにしてください。


## 5. ページネーションの実装
- 未完了タスク一覧ページを「1ページ5件ずつのページネーション」になるように実装してください。


## 6. 「カテゴリー機能」の追加
- 新たに「categories」テーブルを作成します。
- 実装するカラム
  - id(BigIncrements)
  - name(String)
  - created_at(Timestamp)
  - updated_at(Timestamp)
- todosテーブルに「category_id(Integer)」カラムを追加します。
- ToDo同様に、カテゴリーの登録、一覧、編集、削除をできるようにします。
- ToDoモデルとCategoryモデルをリレーションで繋ぎ、ToDoからひもづいたCategoryを取り出せるようにします。
- ToDoの新規作成時や編集時のカテゴリーのセレクトメニューをcategoriesテーブルから取得したデータの数だけforeachで出力するようにして表示します。
- それぞれのタスクは何らかのカテゴリーに属している仕様に変更し、タスクの新規作成や編集でそれを指定することができます(どのような変更をしてこれを実現するのかは考えてみてください)。
- タスクの一覧にカテゴリーを表示するようにします。
- タスクの一覧において、「カテゴリーでの絞り込み検索」ができるような機能を実装してください。



